# UX Patterns Document

## Overview

This document defines the UX patterns for Gebeta, a restaurant infrastructure platform designed for emerging markets. These patterns ensure consistent, accessible, and intuitive user experiences across all touchpoints while respecting the constraints of low-end devices and unreliable connectivity.

---

## Core UX Principles

### 1. Simplicity First

**Principle:** Design for users with limited technical expertise

**Guidelines:**
- Minimize cognitive load with clear, simple interfaces
- Use progressive disclosure to show advanced options only when needed
- Provide clear onboarding flows that don't overwhelm new users
- Use familiar patterns that match user expectations
- Avoid jargon and technical terms

**Examples:**
- "Add Item" instead of "Create Menu Entry"
- Clear step-by-step wizards for complex tasks
- Default values that work for most users

### 2. Offline-First Thinking

**Principle:** Design graceful degradation for unreliable connectivity

**Guidelines:**
- Always show cached content first
- Provide clear offline indicators
- Queue actions when offline and sync when online
- Warn users before actions that require connectivity
- Show last sync timestamp for data freshness

**Examples:**
- "You're offline. Changes will sync when you're back online."
- "Last updated: 2 hours ago"
- Visual indicator of sync status

### 3. Performance as Feature

**Principle:** Fast interactions are critical for user satisfaction

**Guidelines:**
- Optimize for 3G networks and older devices
- Use skeleton screens instead of spinners
- Minimize initial load time
- Lazy load non-critical content
- Optimize images for mobile

**Examples:**
- Skeleton loading states for data fetching
- Lazy loading images below the fold
- Critical CSS inlined, rest deferred

### 4. Clear Feedback

**Principle:** Users should always know what's happening

**Guidelines:**
- Provide immediate feedback for all actions
- Use toast notifications for non-critical messages
- Show loading states during async operations
- Confirm destructive actions before proceeding
- Use success/error states that are visually distinct

**Examples:**
- "Item saved" toast after saving
- "Deleting..." state during deletion
- "Are you sure?" confirmation for deletes

### 5. Accessibility by Default

**Principle:** Design for all users, including those with disabilities

**Guidelines:**
- Meet WCAG 2.1 AA standards
- Ensure keyboard navigation works throughout
- Use proper heading hierarchy
- Provide alt text for images
- Support screen readers with ARIA labels

**Examples:**
- Focus indicators on all interactive elements
- Proper form labels
- Semantic HTML structure

---

## Navigation Patterns

### Main Navigation

**Pattern:** Bottom Navigation (Mobile), Sidebar Navigation (Desktop)

**Mobile Navigation:**

```tsx
// Mobile bottom navigation
<nav className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200">
  <div className="flex justify-around items-center h-16">
    <NavItem icon={<Home />} label="Dashboard" href="/dashboard" />
    <NavItem icon={<Menu />} label="Menu" href="/menu" />
    <NavItem icon={<Analytics />} label="Analytics" href="/analytics" />
    <NavItem icon={<Settings />} label="Settings" href="/settings" />
  </div>
</nav>
```

**Desktop Navigation:**

```tsx
// Desktop sidebar navigation
<aside className="fixed left-0 top-0 bottom-0 w-64 bg-white border-r border-gray-200">
  <div className="p-4">
    <Logo />
  </div>
  <nav className="mt-4">
    <NavItem icon={<Home />} label="Dashboard" href="/dashboard" />
    <NavItem icon={<Menu />} label="Menu" href="/menu" />
    <NavItem icon={<Analytics />} label="Analytics" href="/analytics" />
    <NavItem icon={<QRCode />} label="QR Codes" href="/qr-codes" />
    <NavItem icon={<Settings />} label="Settings" href="/settings" />
  </nav>
</aside>
```

### Breadcrumbs

**Pattern:** Show hierarchical navigation context

**Implementation:**

```tsx
<Breadcrumb>
  <BreadcrumbItem href="/dashboard">Dashboard</BreadcrumbItem>
  <BreadcrumbItem href="/menu">Menu</BreadcrumbItem>
  <BreadcrumbItem>Appetizers</BreadcrumbItem>
</Breadcrumb>
```

**Visual:**
```
Dashboard / Menu / Appetizers
```

### Back Navigation

**Pattern:** Consistent back navigation across the app

**Guidelines:**
- Use browser back button when appropriate
- Provide clear back links for modal closes
- Don't use breadcrumbs as primary navigation
- Preserve scroll position when returning to lists

---

## Form Patterns

### Input Fields

**Standard Input:**

```tsx
<Input
  label="Item Name"
  placeholder="Enter item name"
  value={name}
  onChange={setName}
  error={errors.name}
/>
```

**Validation States:**

```
Default: Gray border, no icon
Focus: Green ring around input
Error: Red border, error message below
Success: Green border, checkmark icon
Disabled: Gray background, no interaction
```

### Form Layout

**Single Column:** Best for mobile and simple forms

**Two Column:** Best for desktop, complex forms

**Guidelines:**
- Group related fields together
- Use clear section headings
- Mark required fields with asterisk
- Provide helper text for complex fields
- Use appropriate input types (email, phone, etc.)

### Buttons

**Primary Actions:**

```tsx
<Button variant="primary" onClick={handleSubmit}>
  Save Changes
</Button>
```

**Secondary Actions:**

```tsx
<Button variant="secondary" onClick={handleCancel}>
  Cancel
</Button>
```

**Destructive Actions:**

```tsx
<Button variant="destructive" onClick={handleDelete}>
  Delete Item
</Button>
```

### Form Validation

**Real-time Validation:**
- Validate on blur for most fields
- Validate on change for password strength
- Show error messages immediately
- Prevent submission until valid

**Error Messages:**
- Be specific about what's wrong
- Provide suggestions for correction
- Use positive language ("Enter a valid email" not "Invalid email")
- Show one error at a time for complex fields

---

## Data Display Patterns

### Tables

**Data Table Pattern:**

```tsx
<DataTable
  columns={[
    { key: 'name', label: 'Item Name' },
    { key: 'price', label: 'Price' },
    { key: 'category', label: 'Category' },
    { key: 'status', label: 'Status' },
    { key: 'actions', label: 'Actions' },
  ]}
  data={menuItems}
  onEdit={handleEdit}
  onDelete={handleDelete}
/>
```

**Mobile Table:**
- Convert to card layout on mobile
- Show key columns, hide secondary
- Provide expand option for details

### Cards

**Card Pattern:**

```tsx
<Card hover>
  <CardImage src={item.imageUrl} alt={item.name} />
  <CardContent>
    <CardTitle>{item.name}</CardTitle>
    <CardSubtitle>{item.description}</CardSubtitle>
    <CardFooter>
      <span className="price">{formatCurrency(item.price)}</span>
      <Button size="sm" variant="secondary">Edit</Button>
    </CardFooter>
  </CardContent>
</Card>
```

### Lists

**Simple List:**

```tsx
<List>
  <ListItem>
    <ListItemTitle>Menu Item 1</ListItemTitle>
    <ListItemMeta>$12.99</ListItemMeta>
  </ListItem>
  <ListItem>
    <ListItemTitle>Menu Item 2</ListItemTitle>
    <ListItemMeta>$15.99</ListItemMeta>
  </ListItem>
</List>
```

### Empty States

**Pattern:** Provide guidance when no data exists

**Example:**

```tsx
<EmptyState
  icon={<EmptyMenu />}
  title="No menu items yet"
  description="Start by adding your first menu item"
  action={<Button onClick={handleAddItem}>Add First Item</Button>}
/>
```

---

## Dashboard Patterns

### Metric Cards

**Pattern:** Display key metrics at a glance

```tsx
<MetricCard
  title="Total Views"
  value="12,345"
  change={+12.5}
  changeLabel="vs last week"
  icon={<Eye />}
/>
```

### Charts

**Line Chart (Trends):**

```tsx
<LineChart
  data={viewsData}
  xKey="date"
  yKey="views"
  title="Menu Views"
  height={300}
/>
```

**Bar Chart (Comparisons):**

```tsx
<BarChart
  data={categoryData}
  xKey="category"
  yKey="orders"
  title="Orders by Category"
  height={300}
/>
```

### Dashboard Layout

**Responsive Grid:**

```tsx
<DashboardLayout>
  <MetricCard ... />
  <MetricCard ... />
  <MetricCard ... />
  <MetricCard ... />
  <ChartCard title="Views Over Time" span={2}>
    <LineChart ... />
  </ChartCard>
  <ChartCard title="Top Items" span={1}>
    <TopItemsList ... />
  </ChartCard>
</DashboardLayout>
```

---

## Modal Patterns

### Confirmation Modal

**Pattern:** Confirm destructive or irreversible actions

```tsx
<ConfirmationModal
  isOpen={isOpen}
  onClose={handleClose}
  onConfirm={handleConfirm}
  title="Delete Item"
  message="Are you sure you want to delete this item? This action cannot be undone."
  confirmLabel="Delete"
  variant="destructive"
/>
```

### Form Modal

**Pattern:** Quick edits without leaving context

```tsx
<Modal
  isOpen={isOpen}
  onClose={handleClose}
  title="Edit Item"
>
  <Form onSubmit={handleSubmit}>
    <Input label="Name" ... />
    <Input label="Price" ... />
    <Select label="Category" ... />
    <div className="flex justify-end gap-2 mt-4">
      <Button variant="secondary" onClick={handleClose}>Cancel</Button>
      <Button variant="primary" type="submit">Save</Button>
    </div>
  </Form>
</Modal>
```

### Modal Sizes

| Size | Width | Use Case |
|------|-------|----------|
| **Small** | 400px | Confirmations, simple forms |
| **Medium** | 600px | Standard forms, detail views |
| **Large** | 800px | Complex forms, reports |
| **Full** | 100% | Full-page modals |

---

## Toast Notifications

### Success Toast

```tsx
toast.success('Item saved successfully');
```

### Error Toast

```tsx
toast.error('Failed to save item. Please try again.');
```

### Warning Toast

```tsx
toast.warning('Your changes are not saved.');
```

### Info Toast

```tsx
toast.info('New feature available: Smart upselling');
```

### Toast Position

**Desktop:** Top-right corner
**Mobile:** Bottom-center (above navigation)

---

## Loading States

### Skeleton Loading

**Pattern:** Show placeholder while data loads

```tsx
{isLoading ? (
  <SkeletonCard />
) : (
  <MenuCard item={item} />
)}
```

**Skeleton Component:**

```tsx
<Skeleton className="h-32 w-full rounded-lg" />
<Skeleton className="h-4 w-3/4 mt-4" />
<Skeleton className="h-4 w-1/2 mt-2" />
```

### Full Page Loading

**Pattern:** Show during initial app load

```tsx
<FullPageLoader>
  <Spinner />
  <p>Loading your dashboard...</p>
</FullPageLoader>
```

### Inline Loading

**Pattern:** Show during button actions

```tsx
<Button loading={isSubmitting}>
  {isSubmitting ? 'Saving...' : 'Save Changes'}
</Button>
```

---

## Error States

### Error Boundaries

**Pattern:** Catch and display errors gracefully

```tsx
<ErrorBoundary
  fallback={<ErrorFallback />}
  onReset={() => navigate('/dashboard')}
>
  <DashboardContent />
</ErrorBoundary>
```

### Error Display

**Pattern:** User-friendly error messages

```
‚ùå Something went wrong

We're sorry, but something unexpected happened. 
Please try again or contact support if the problem persists.

[Try Again] [Contact Support]
```

### 404 Page

**Pattern:** Friendly 404 experience

```
üîç Page Not Found

The page you're looking for doesn't exist or has been moved.

[Go to Dashboard] [Get Help]
```

---

## Mobile-Specific Patterns

### Pull-to-Refresh

**Pattern:** Refresh content by pulling down

```tsx
<PullToRefresh onRefresh={handleRefresh}>
  <Content />
</PullToRefresh>
```

### Swipe Actions

**Pattern:** Quick actions on list items

```tsx
<SwipeableList>
  <SwipeableItem
    leftAction={<SwipeAction icon={<Edit />} label="Edit" />}
    rightAction={<SwipeAction icon={<Delete />} label="Delete" variant="destructive" />}
  >
    <ListItem ... />
  </SwipeableItem>
</SwipeableList>
```

### Action Sheets

**Pattern:** Bottom sheet for additional actions

```tsx
<ActionSheet
  isOpen={isOpen}
  onClose={handleClose}
  title="Menu Options"
  actions={[
    { icon: <Edit />, label: 'Edit Item', onClick: handleEdit },
    { icon: <Duplicate />, label: 'Duplicate', onClick: handleDuplicate },
    { icon: <Delete />, label: 'Delete', onClick: handleDelete, variant: 'destructive' },
  ]}
/>
```

### Date Pickers

**Pattern:** Native date picker for mobile

```tsx
<DatePicker
  label="Start Date"
  value={startDate}
  onChange={setStartDate}
/>
```

---

## Accessibility Patterns

### Focus Management

**Pattern:** Manage focus for modals and dialogs

```tsx
useEffect(() => {
  if (isOpen) {
    focusRef.current?.focus();
  } else {
    // Return focus to trigger element
    triggerRef.current?.focus();
  }
}, [isOpen]);
```

### ARIA Labels

**Pattern:** Add ARIA labels for screen readers

```tsx
<Button
  aria-label="Add new menu item"
  aria-describedby="add-item-help"
>
  <PlusIcon />
</Button>
<p id="add-item-help" className="sr-only">
  Click to add a new item to your restaurant's menu
</p>
```

### Keyboard Navigation

**Pattern:** Ensure full keyboard accessibility

```tsx
<div role="menubar">
  <MenuItem role="menuitem" tabIndex={0}>Dashboard</MenuItem>
  <MenuItem role="menuitem" tabIndex={-1}>Menu</MenuItem>
  <MenuItem role="menuitem" tabIndex={-1}>Analytics</MenuItem>
</div>
```

---

## Document Metadata

- **Created:** 2025-02-04
- **Author:** SDLC Orchestrator
- **Phase:** Phase 2 - Architecture & Planning
- **Skill:** UX Patterns (skill 6)
- **Status:** ‚úÖ Complete
- **Next Skill:** Component Architecture (skill 7)